/*
 * Decompiled with CFR 0.152.
 * 
 * Could not load the following classes:
 *  net.minecraft.block.material.Material
 *  net.minecraft.util.math.BlockPos
 *  net.minecraftforge.fml.common.gameevent.TickEvent$PlayerTickEvent
 */
package i.gishreloaded.deadcode.hacks.exploit;

import i.gishreloaded.deadcode.hack.Hack;
import i.gishreloaded.deadcode.hack.HackCategory;
import i.gishreloaded.deadcode.value.types.BooleanValue;
import i.gishreloaded.deadcode.value.types.IntegerValue;
import i.gishreloaded.deadcode.wrappers.Wrapper;
import net.minecraft.block.material.Material;
import net.minecraft.util.math.BlockPos;
import net.minecraftforge.fml.common.gameevent.TickEvent;

public class TeleportDown
extends Hack {
    public BooleanValue a;
    public IntegerValue b;

    public TeleportDown(String string) {
        super(string, HackCategory.Exploit);
        this.b("General");
        this.a = new BooleanValue("Only damage", false);
        this.b = new IntegerValue("MaxHeight", 1000, 1, 5000);
        this.a(this.a, this.b);
        this.b("Other");
    }

    @Override
    public String getDescription() {
        return "Teleports you up with predicts.";
    }

    @Override
    public void onPlayerTickEvent(TickEvent.PlayerTickEvent playerTickEvent) {
        if (!((Boolean)this.a.getObjectValue()).booleanValue()) {
            return;
        }
        int n2 = Wrapper.INSTANCE.getLocalPlayer().hurtTime;
        if (n2 > 0) {
            this.b();
            if (n2 < 2) {
                this.c(false);
            }
        }
        super.onPlayerTickEvent(playerTickEvent);
    }

    @Override
    public void onEnable() {
        if (((Boolean)this.a.getObjectValue()).booleanValue()) {
            return;
        }
        this.b();
        this.c(false);
        super.onEnable();
    }

    public void b() {
        boolean bl = false;
        int n2 = 0;
        int n3 = 0;
        for (int i2 = 0; i2 < this.b.getValue(); ++i2) {
            BlockPos blockPos = new BlockPos(cs.a.d(), cs.a.e() + (double)i2, cs.a.f());
            Material material = eS.c(blockPos);
            if (!material.isSolid()) {
                if (!bl || ++n2 <= 0) continue;
                n3 = i2;
                break;
            }
            bl = true;
        }
        if (n3 != 0) {
            Wrapper.INSTANCE.getLocalPlayer().setPosition(cs.a.d(), cs.a.e() + (double)n3, cs.a.f());
        }
    }
}

